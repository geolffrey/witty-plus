\hypertarget{classwittyPlus_1_1UserManager}{
\section{wittyPlus::UserManager$<$ User $>$ Class Template Reference}
\label{classwittyPlus_1_1UserManager}\index{wittyPlus::UserManager@{wittyPlus::UserManager}}
}


{\ttfamily \#include $<$UserManager.hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classwittyPlus_1_1UserManager_a147064c05eaaff24d8f981d7fdada4b2}{
\hyperlink{classwittyPlus_1_1UserManager_a147064c05eaaff24d8f981d7fdada4b2}{UserManager} (dbo::Session \&session)}
\label{classwittyPlus_1_1UserManager_a147064c05eaaff24d8f981d7fdada4b2}

\begin{DoxyCompactList}\small\item\em A ptr to the currently logged in user. \item\end{DoxyCompactList}\item 
\hypertarget{classwittyPlus_1_1UserManager_ab5150a19f751e6ee66bef3a0afaca02c}{
void {\bfseries logout} ()}
\label{classwittyPlus_1_1UserManager_ab5150a19f751e6ee66bef3a0afaca02c}

\item 
\hypertarget{classwittyPlus_1_1UserManager_a882c9d9dc1f8fc2b0b9f9d096541c254}{
bool \hyperlink{classwittyPlus_1_1UserManager_a882c9d9dc1f8fc2b0b9f9d096541c254}{isLoggedIn} () const }
\label{classwittyPlus_1_1UserManager_a882c9d9dc1f8fc2b0b9f9d096541c254}

\begin{DoxyCompactList}\small\item\em Logs out the current user. \item\end{DoxyCompactList}\item 
\hypertarget{classwittyPlus_1_1UserManager_a0d0162db5fc0ba80719c95c6301a79c5}{
dbo::ptr$<$ User $>$ \hyperlink{classwittyPlus_1_1UserManager_a0d0162db5fc0ba80719c95c6301a79c5}{getUser} () const }
\label{classwittyPlus_1_1UserManager_a0d0162db5fc0ba80719c95c6301a79c5}

\begin{DoxyCompactList}\small\item\em Returns true if someone is logged in. \item\end{DoxyCompactList}\item 
bool \hyperlink{classwittyPlus_1_1UserManager_a240024bf2761fe33ef965b33db187832}{checkLogin} (const string \&username, const string \&password)
\begin{DoxyCompactList}\small\item\em Return a pointer to the currently logged in user. \item\end{DoxyCompactList}\item 
void \hyperlink{classwittyPlus_1_1UserManager_a8abad96b33630a62e8737f0de803f06d}{addUser} (const string \&username, const string \&password)
\begin{DoxyCompactList}\small\item\em Adds or updates the password of a new user in the table. \item\end{DoxyCompactList}\item 
dbo::ptr$<$ User $>$ \hyperlink{classwittyPlus_1_1UserManager_af60bbfbe3ea60a766cdcc66673ae39dc}{userFromName} (const string \&username)
\begin{DoxyCompactList}\small\item\em Looks up a user by their name. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$class User$>$ class wittyPlus::UserManager$<$ User $>$}

Add this to your app, to have long lived and thread safe 'user sessions'. Tracks the currently logged in user.


\begin{DoxyTemplParams}{Template Parameters}
{\em User} & A Wt::Dbo model class that represents the user and has a 'name' db field we can look up on, and the following methods: const string\& username(); const string\& PasswordHash(); setName(const string\& newName); setPasswordHash(const string\& newHash); methods .. and of course the ability to persist \\
\hline
\end{DoxyTemplParams}


\subsection{Member Function Documentation}
\hypertarget{classwittyPlus_1_1UserManager_a8abad96b33630a62e8737f0de803f06d}{
\index{wittyPlus::UserManager@{wittyPlus::UserManager}!addUser@{addUser}}
\index{addUser@{addUser}!wittyPlus::UserManager@{wittyPlus::UserManager}}
\subsubsection[{addUser}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class User$>$ void {\bf wittyPlus::UserManager}$<$ User $>$::addUser (
\begin{DoxyParamCaption}
\item[{const string \&}]{username, }
\item[{const string \&}]{password}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classwittyPlus_1_1UserManager_a8abad96b33630a62e8737f0de803f06d}


Adds or updates the password of a new user in the table. 


\begin{DoxyParams}{Parameters}
{\em username} & username to update/insert \\
\hline
{\em password} & new password \\
\hline
\end{DoxyParams}
\hypertarget{classwittyPlus_1_1UserManager_a240024bf2761fe33ef965b33db187832}{
\index{wittyPlus::UserManager@{wittyPlus::UserManager}!checkLogin@{checkLogin}}
\index{checkLogin@{checkLogin}!wittyPlus::UserManager@{wittyPlus::UserManager}}
\subsubsection[{checkLogin}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class User$>$ bool {\bf wittyPlus::UserManager}$<$ User $>$::checkLogin (
\begin{DoxyParamCaption}
\item[{const string \&}]{username, }
\item[{const string \&}]{password}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classwittyPlus_1_1UserManager_a240024bf2761fe33ef965b33db187832}


Return a pointer to the currently logged in user. 

Returns true if the username and password match are in the DB. Always takes the same amount of time (roughly) to calculate. This is to prevent remote timing attacks.


\begin{DoxyParams}{Parameters}
{\em username} & the username being used to log in \\
\hline
{\em password} & the password being used to log in\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if db has a match 
\end{DoxyReturn}
\hypertarget{classwittyPlus_1_1UserManager_af60bbfbe3ea60a766cdcc66673ae39dc}{
\index{wittyPlus::UserManager@{wittyPlus::UserManager}!userFromName@{userFromName}}
\index{userFromName@{userFromName}!wittyPlus::UserManager@{wittyPlus::UserManager}}
\subsubsection[{userFromName}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class User$>$ dbo::ptr$<$User$>$ {\bf wittyPlus::UserManager}$<$ User $>$::userFromName (
\begin{DoxyParamCaption}
\item[{const string \&}]{username}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classwittyPlus_1_1UserManager_af60bbfbe3ea60a766cdcc66673ae39dc}


Looks up a user by their name. 


\begin{DoxyParams}{Parameters}
{\em username} & The name to lookup in the database \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the user we found 
\end{DoxyReturn}


The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
base-\/app/lib/UserManager.hpp\end{DoxyCompactItemize}
